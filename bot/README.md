# Telegram Bot –¥–ª—è Accs-Sale

–¶–µ–π —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ—î–∫—Ç—É Accs-Sale —Ç–∞ –Ω–∞–¥–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏.

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### üåç –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å

- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä–æ—Å—ñ–π—Å—å–∫–æ—ó —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó –º–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä –º–æ–≤–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤–∏–±–æ—Ä—É –º–æ–≤–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö

### üì± –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é (Reply –∫–Ω–æ–ø–∫–∏)

–ë–æ—Ç –º–∞—î –º–µ–Ω—é –∑ 4 –æ—Å–Ω–æ–≤–Ω–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏:

- üõçÔ∏è **–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥** - –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º—ñ–Ω—ñ-–∞–ø–ø https://accs-sale.vercel.app/ru
- üìã **–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è** - –ø–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚ÑπÔ∏è **–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è** - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ—î–∫—Ç –∑ —ñ–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞ –∫–∞–Ω–∞–ª —Ç–∞ —á–∞—Ç
- üìû **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞** - –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞ @DrValuev

### üíæ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö SQLite

- –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ —ó—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
- –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –ø–∞–ø–∫—É –±–æ—Ç–∞:

```bash
cd bot
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

```bash
npm install
```

3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `env.example`:

```bash
cp env.example .env
```

4. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `.env` —Ç–∞ –¥–æ–¥–∞–π—Ç–µ —Å–≤—ñ–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:

```
BOT_TOKEN=your_telegram_bot_token_here
BOT_USERNAME=your_bot_username
```

## –ó–∞–ø—É—Å–∫

### –†–æ–∑—Ä–æ–±–∫–∞ (–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º):

```bash
npm run dev
```

### –ü—Ä–æ–¥–∞–∫—à–Ω:

```bash
npm start
```

## –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –±–æ—Ç–∞

1. –ó–Ω–∞–π–¥—ñ—Ç—å @BotFather –≤ Telegram
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Ç–∞
4. –°–∫–æ–ø—ñ—é–π—Ç–µ –æ—Ç—Ä–∏–º–∞–Ω–∏–π —Ç–æ–∫–µ–Ω —É —Ñ–∞–π–ª `.env`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
bot/
‚îú‚îÄ‚îÄ index.js          # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ database.js       # –†–æ–±–æ—Ç–∞ –∑ SQLite –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ translations.js   # –ü–µ—Ä–µ–∫–ª–∞–¥–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –º–æ–≤
‚îú‚îÄ‚îÄ package.json      # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ —Å–∫—Ä–∏–ø—Ç–∏
‚îú‚îÄ‚îÄ env.example       # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ .env              # –í–∞—à—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (—Å—Ç–≤–æ—Ä—ñ—Ç—å —Å–∞–º—ñ)
‚îú‚îÄ‚îÄ bot.db            # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ .gitignore        # –§–∞–π–ª–∏ –¥–ª—è —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è –≤ git
‚îî‚îÄ‚îÄ README.md         # –¶–µ–π —Ñ–∞–π–ª
```

## –ö–ª–∞—Å AccsSaleBot

–ë–æ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–ª–∞—Å `AccsSaleBot` –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ–¥—É:

- `setupEventHandlers()` - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
- `handleStart()` - –æ–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥–∏ /start —Ç–∞ –≤–∏–±—ñ—Ä –º–æ–≤–∏
- `showLanguageSelection()` - –ø–æ–∫–∞–∑ –≤–∏–±–æ—Ä—É –º–æ–≤–∏
- `showMainMenu()` - –ø–æ–∫–∞–∑ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
- `handleCallbackQuery()` - –æ–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω—å –∫–Ω–æ–ø–æ–∫
- `handleTextMessage()` - –æ–±—Ä–æ–±–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- `openCatalog()` - –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –∫–∞—Ç–∞–ª–æ–≥—É
- `showMyOrders()` - –ø–æ–∫–∞–∑ –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `showInformation()` - –ø–æ–∫–∞–∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑ —ñ–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∞–º–∏
- `showSupport()` - –ø–æ–∫–∞–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏

## –ö–ª–∞—Å Database

–†–æ–±–æ—Ç–∞ –∑ SQLite –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö:

- `init()` - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞–±–ª–∏—Ü—å
- `getUser()` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `createOrUpdateUser()` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `updateUserLanguage()` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–≤–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `getUserOrders()` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `createOrder()` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

## –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—è users:

- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `telegram_id` - ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ Telegram
- `username` - username –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `first_name` - —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `last_name` - –ø—Ä—ñ–∑–≤–∏—â–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `language` - –æ–±—Ä–∞–Ω–∞ –º–æ–≤–∞ (ru/en)
- `created_at` - –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
- `updated_at` - –¥–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### –¢–∞–±–ª–∏—Ü—è orders:

- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `user_id` - –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `product_name` - –Ω–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É
- `price` - —Ü—ñ–Ω–∞
- `status` - —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- `created_at` - –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–í–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏:

- –¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É —Ñ–∞–π–ª—ñ `translations.js`
- –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é —É –º–µ—Ç–æ–¥—ñ `showMainMenu()`
- –õ–æ–≥—ñ–∫—É –æ–±—Ä–æ–±–∫–∏ –≤ `handleTextMessage()`
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —É `database.js`

## –õ–æ–≥—É–≤–∞–Ω–Ω—è

–ë–æ—Ç –≤–∏–≤–æ–¥–∏—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ:

- –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ü–æ–º–∏–ª–∫–∏
- –ó—É–ø–∏–Ω–∫—É –±–æ—Ç–∞

## –ë–µ–∑–ø–µ–∫–∞

- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Ñ–∞–π–ª—ñ `.env`
- –§–∞–π–ª `.env` –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—î –≤ git
- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –≤–∫–ª—é—á–µ–Ω–∞

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **Reply –∫–Ω–æ–ø–∫–∏** –∑–∞–º—ñ—Å—Ç—å inline –∫–Ω–æ–ø–æ–∫ –¥–ª—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
- **–í–∏–±—ñ—Ä –º–æ–≤–∏** –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É
- **SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö** –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- **–Ü–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏** –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –∫–∞–Ω–∞–ª —Ç–∞ —á–∞—Ç
- **–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º—ñ–Ω—ñ-–∞–ø–ø** –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥—É
